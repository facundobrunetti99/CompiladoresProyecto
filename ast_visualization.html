<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>üå≥ AST Visualizer - √Årbol Sint√°ctico Abstracto</title>
    <script type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/vis/4.21.0/vis.min.js"></script>
    <link href="https://cdnjs.cloudflare.com/ajax/libs/vis/4.21.0/vis.min.css" rel="stylesheet" type="text/css" />
    <style type="text/css">
        body {
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            margin: 0;
            padding: 20px;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            min-height: 100vh;
        }
        .container {
            max-width: 1200px;
            margin: 0 auto;
        }
        h1 {
            text-align: center;
            color: white;
            text-shadow: 2px 2px 4px rgba(0,0,0,0.5);
            margin-bottom: 10px;
            font-size: 2.5em;
        }
        .subtitle {
            text-align: center;
            color: rgba(255,255,255,0.8);
            margin-bottom: 20px;
            font-size: 1.2em;
        }
        #mynetworkid {
            width: 100%;
            height: 600px;
            border: 3px solid #333;
            border-radius: 15px;
            box-shadow: 0 8px 32px rgba(0,0,0,0.3);
            background: white;
        }
        .controls {
            text-align: center;
            margin: 20px 0;
        }
        button {
            background: linear-gradient(45deg, #4CAF50, #45a049);
            color: white;
            border: none;
            padding: 12px 24px;
            margin: 5px;
            border-radius: 25px;
            cursor: pointer;
            font-size: 14px;
            font-weight: bold;
            transition: all 0.3s ease;
            box-shadow: 0 4px 15px rgba(76, 175, 80, 0.3);
        }
        button:hover {
            transform: translateY(-2px);
            box-shadow: 0 6px 20px rgba(76, 175, 80, 0.4);
        }
        .info, .stats {
            background: rgba(255,255,255,0.1);
            backdrop-filter: blur(10px);
            border: 1px solid rgba(255,255,255,0.2);
            padding: 20px;
            border-radius: 15px;
            margin: 20px 0;
            color: white;
        }
        .stats {
            text-align: center;
            padding: 10px;
        }
        .info h3 {
            margin-top: 0;
            color: #FFD700;
        }
        .info ul {
            list-style: none;
            padding: 0;
        }
        .info li {
            margin: 10px 0;
            padding-left: 20px;
        }
    </style>
</head>
<body>
    <div class="container">
        <h1>üå≥ AST Visualizer</h1>
        <div class="subtitle">√Årbol Sint√°ctico Abstracto - Visualizaci√≥n Interactiva</div>
        
        <div class="stats">
            üìä <strong>Nodos totales:</strong> 14 | üîó <strong>Conexiones:</strong> 13
        </div>
        
        <div class="info">
            <h3>üìã Instrucciones de Uso:</h3>
            <ul>
                <li>üñ±Ô∏è <strong>Arrastra</strong> los nodos para reorganizar el √°rbol</li>
                <li>üîç <strong>Zoom</strong> con la rueda del mouse o pinch en m√≥vil</li>
                <li>üëÜ <strong>Click</strong> en un nodo para ver informaci√≥n detallada</li>
                <li>üéØ <strong>Doble click</strong> para centrar la vista en un nodo</li>
                <li>‚ö° <strong>Toggle Physics</strong> para activar/desactivar la animaci√≥n</li>
            </ul>
        </div>
        
        <div class="controls">
            <button onclick="centerView()">üéØ Centrar Vista</button>
            <button onclick="togglePhysics()">‚ö° Toggle Physics</button>
            <button onclick="resetZoom()">üîç Reset Zoom</button>
            <button onclick="fitNetwork()">üìê Ajustar Vista</button>
        </div>
        
        <div id="mynetworkid"></div>
    </div>

    <script type="text/javascript">
        // Datos del AST
var nodes = new vis.DataSet([
  {id: 1, label: 'PROGRAM\\nReturn Type: int', color: '#8B4513', shape: 'box', font: {size: 16, color: 'white', face: 'Arial'}},
  {id: 2, label: 'MAIN FUNCTION\\nEntry Point', color: '#4CAF50', shape: 'ellipse', font: {size: 16, color: 'white', face: 'Arial'}},
  {id: 3, label: 'DECLARATION\\nint x', color: '#2196F3', shape: 'diamond', font: {size: 16, color: 'white', face: 'Arial'}},
  {id: 4, label: 'DECLARATION\\nint y', color: '#2196F3', shape: 'diamond', font: {size: 16, color: 'white', face: 'Arial'}},
  {id: 5, label: 'ASSIGNMENT\\nVariable: x', color: '#FF9800', shape: 'box', font: {size: 16, color: 'white', face: 'Arial'}},
  {id: 6, label: 'NUMBER\\nValue: 10', color: '#4CAF50', shape: 'circle', font: {size: 16, color: 'white', face: 'Arial'}},
  {id: 7, label: 'ASSIGNMENT\\nVariable: y', color: '#FF9800', shape: 'box', font: {size: 16, color: 'white', face: 'Arial'}},
  {id: 8, label: 'BINARY OP\\nOperator: +', color: '#9C27B0', shape: 'star', font: {size: 16, color: 'white', face: 'Arial'}},
  {id: 9, label: 'VARIABLE\\nID: x', color: '#00BCD4', shape: 'ellipse', font: {size: 16, color: 'white', face: 'Arial'}},
  {id: 10, label: 'NUMBER\\nValue: 5', color: '#4CAF50', shape: 'circle', font: {size: 16, color: 'white', face: 'Arial'}},
  {id: 11, label: 'RETURN\\nwith expression', color: '#F44336', shape: 'triangleDown', font: {size: 16, color: 'white', face: 'Arial'}},
  {id: 12, label: 'BINARY OP\\nOperator: *', color: '#9C27B0', shape: 'star', font: {size: 16, color: 'white', face: 'Arial'}},
  {id: 13, label: 'VARIABLE\\nID: y', color: '#00BCD4', shape: 'ellipse', font: {size: 16, color: 'white', face: 'Arial'}},
  {id: 14, label: 'NUMBER\\nValue: 2', color: '#4CAF50', shape: 'circle', font: {size: 16, color: 'white', face: 'Arial'}}
]);

var edges = new vis.DataSet([
  {from: 1, to: 2, arrows: 'to', width: 2},
  {from: 2, to: 3, arrows: 'to', width: 2},
  {from: 2, to: 4, arrows: 'to', width: 2},
  {from: 2, to: 5, arrows: 'to', width: 2},
  {from: 5, to: 6, arrows: 'to', width: 2},
  {from: 2, to: 7, arrows: 'to', width: 2},
  {from: 7, to: 8, arrows: 'to', width: 2},
  {from: 8, to: 9, arrows: 'to', width: 2},
  {from: 8, to: 10, arrows: 'to', width: 2},
  {from: 2, to: 11, arrows: 'to', width: 2},
  {from: 11, to: 12, arrows: 'to', width: 2},
  {from: 12, to: 13, arrows: 'to', width: 2},
  {from: 12, to: 14, arrows: 'to', width: 2}
]);

        
        // Configuraci√≥n del network
        var container = document.getElementById('mynetworkid');
        var data = { nodes: nodes, edges: edges };
        var options = {
            nodes: {
                borderWidth: 3,
                shadow: {
                    enabled: true,
                    color: 'rgba(0,0,0,0.3)',
                    size: 10,
                    x: 2,
                    y: 2
                },
                font: {
                    color: 'white',
                    size: 16,
                    face: 'Arial',
                    strokeWidth: 2,
                    strokeColor: 'black'
                },
                scaling: {
                    min: 20,
                    max: 50
                }
            },
            edges: {
                width: 3,
                color: {
                    color: '#848484',
                    highlight: '#FF6B6B',
                    hover: '#4ECDC4'
                },
                smooth: {
                    type: 'continuous',
                    roundness: 0.5
                },
                arrows: {
                    to: {
                        enabled: true,
                        scaleFactor: 1.2
                    }
                }
            },
            physics: {
                enabled: true,
                stabilization: { iterations: 150 },
                barnesHut: {
                    gravitationalConstant: -3000,
                    centralGravity: 0.3,
                    springLength: 100,
                    springConstant: 0.04,
                    damping: 0.09
                }
            },
            interaction: {
                hover: true,
                tooltipDelay: 200
            }
        };
        
        // Crear la red
        var network = new vis.Network(container, data, options);
        var physicsEnabled = true;
        
        // Event listeners
        network.on('click', function (params) {
            if (params.nodes.length > 0) {
                var nodeId = params.nodes[0];
                var node = nodes.get(nodeId);
                alert('üîç Informaci√≥n del Nodo:\n\n' + 
                      'üìõ Tipo: ' + node.label + '\n' +
                      'üÜî ID: ' + nodeId + '\n' +
                      'üé® Color: ' + node.color + '\n' +
                      'üìê Forma: ' + node.shape);
            }
        });
        
        network.on('doubleClick', function (params) {
            if (params.nodes.length > 0) {
                network.focus(params.nodes[0], {
                    scale: 1.5,
                    animation: {
                        duration: 1000,
                        easingFunction: 'easeInOutQuad'
                    }
                });
            }
        });
        
        // Funciones auxiliares
        function togglePhysics() {
            physicsEnabled = !physicsEnabled;
            network.setOptions({ physics: { enabled: physicsEnabled } });
        }
        
        function resetZoom() {
            network.fit({ animation: { duration: 1000, easingFunction: 'easeInOutQuad' } });
        }
        
        function centerView() {
            network.fit({ animation: true });
        }
        
        function fitNetwork() {
            network.fit({ animation: { duration: 800 } });
        }
        
        // Inicializaci√≥n final
        network.once('stabilized', function() {
            network.fit();
        });
    </script>
</body>
</html>